## 들어가며
---
문서를 보관하거나, 자료를 정리할 때 서류 보관함을 사용한다. 이처럼, 컴퓨터도 다양한 데이터를 기록하기 위해 **데이터베이스**를 사용하며, 이를 체계적으로 관리하는 프로그램은 **DataBase Management System(DBMS)** 라고 한다. 

이번 강의에서는 HTML과 Flask를 사용해 로그인 기능과 게시판 기능을 가지는 웹 사이트를 구현해 볼 것이다. 그 과정에서 데이터베이스도 함께 사용할 것이기 때문에, 이번에는 우선 배경지식을 학습하고 넘어간다. 


## DataBase Management System(DBMS)
---
웹 서비스는 데이터베이스에 정보를 저장하고 이를 관리하기 위해 **Database Management System**을 사용한다. DBMS는 데이터베이스에 새로운 정보를 기록하거나 기록된 내용을 수정, 삭제하는 역할을 수행한다. DBMS는 다수의 사용자가 동시에 하나의 데이터베이스에 접근할 수 있고, 웹 서비스의 검색 기능처럼 복잡한 요구사항을 만족하는 데이터를 조회할 수 있다. 

DBMS는 크게 관계형(Relational)과 비관계형(Non-Relational)을 기준으로 나눌 수 있으며, 그 외에도 다양한 종류의 DBMS가 존재한다. 

- Relational: MySQL, MariaDB, PostgreSQL, SQLite
- Non-Relational: MongoDB, CouchDB, Redis

두 DBMS 유형의 가장 큰 차이점은 관계형은 **행과 열의 집합인 테이블 형식**으로 데이터를 저장하고, 비관계형은 테이블 형식이 아닌 **키-값** 형태로 값을 저장한다는 점이다.


## Relational DBMS(RDBMS)
---
두 DBMS 유형 중, Relational DBMS(RDBMS)는 데이터를 표의 형식으로 저장하고 관리하는 데이터베이스 모델로, 1970년 Codds가 제안한 RDBMS로 간주되기 위한 12가지 규칙에 기반해 정의되었다. 그러나, 실제로는 <u>가장 핵심적인 조건 두 가지를 충족하는</u> 시스템을 RDBMS로 분류한다. 

1. RDBMS는 <u>행(Row)과 열(Column)</u>의 집합으로 구성된 **테이블**의 묶음 형식으로 데이터를 관리
2. 테이블 형식의 데이터를 조작할 수 있는 **관계 연산자**를 제공

RDBMS에서 관계 연산자는 <u>Structured Query Language (SQL)</u>라는 쿼리 언어를 사용해 이루어지며, 쿼리를 통해 테이블 형식의 데이터를 조작한다. 

메이플스토리의 예시로 RDBMS의 이해를 해 보면, 메이플스토리의 데이터베이스에는 다양한 정보를 담는 여러 테이블이 다음과 같이 존재할 수 있다. 

**유저 정보 테이블**

| 유저 ID(문자열) | 이름(문자열) | 가입일(날짜)    | 전화번호(문자열)     |
| ---------- | ------- | ---------- | ------------- |
| CS31337    | 쌀숭이     | 2024.02.01 | 010-1337-1337 |
| CS31338    | 신창섭     | 2009.09.01 | 010-8864-3254 |
**장비 정보 테이블**

| 이름(문자열)    | 무기 상수(부동소수점) | 종류(문자열) | 사용 직업(문자열) |
| ---------- | ------------ | ------- | ---------- |
| 제네시스 스피어   | 1.49         | 창       | 다크나이트      |
| 도전자의 데스페라도 | 1.30         | 데스페라도   | 데몬어벤져      |
| 데스티니 샤이닝로드 | 1.20         | 샤이닝 로드  | 루미너스       |
이때 유저 정보, 장비 정보는 서로 다른 테이블에 저장되며, 이 외에도 치장 아이템이나 주문 내역 등의 테이블도 존재할 수 있다. 이 테이블들은 서로 연관되어 있지는 않지만, <u>주문 내역 테이블과 유저 정보 테이블</u>의 경우, 공통된 키인 유저 ID를 **고유 키**로 기준 삼아 서로 연관될 수 있다. 

여기서, "서로 연관된다"는 말의 의미는 다음과 같다. 유저 ID는 각각의 유저를 구별하는 데 사용되는 고유 식별자로, 유저 ID를 통해 해당하는 유저의 가입일이나 주문 날짜, 상품 후기 등을 쉽게 조회할 수 있다. 


## SQLite
---
### 실습: SQLite를 통한 SQL 실습
---
![[Pasted image 20260110214455.png]]

[SQLite](https://www.sqlite.org/)는 배우기 쉽고 가벼운 관계형 데이터베이스 관리 시스템(RDBMS)으로, 다른 데이터베이스처럼 복잡한 서버 설정 없이도 사용할 수 있어 학습용 프로젝트, 소규모 프로젝트, [[Proton Pass 기능 정리 및 아티팩트 분석|Proton Pass]] 등의 모바일 앱 등에서 널리 사용된다. 

이번 장에서는 SQLite를 설치한 후 실습을 통해 데이터를 저장하고 관리하는 방법을 익혀 보면서 데이터베이스의 기초를 배워 본다.

### 실습: SQLite 설치하기
---
강의에서 기준으로 하는 환경인 Ubuntu Linux 64-bit에서는 다음 명령어를 터미널에서 실행한다. 

```shell
$ sudo apt-get update -y
$ sudo apt-get install sqlite3 -y
```

해당 명령어를 실행한 결과는 다음과 같다. 

![[Pasted image 20260110232749.png]]
프로그램이 제대로 설치되었는지 확인하려면, `$ sqlite3` 명령어를 터미널에서 실행하면 프로그램이 켜지고 커서에 `sqlite>`라는 프롬프트가 표시된다. 콘솔에서 나가고 싶은 경우 Ctrl + D를 누르거나, `.exit` 또는 `.quit` 명령어를 입력하면 된다. 

![[Pasted image 20260110233910.png]]
### 실습: 데이터베이스 생성하기
---
SQLite에서 데이터베이스는 하나의 파일로 관리된다. 

1. 터미널을 켜고 비어있는 디렉터리에서 `sqlite3 my_database.db` 명령어를 실행한다. 
	- 새로운 데이터를 *my_database.db*라는 이름의 파일로 생성한다.
2. 실행하면 SQLite 콘솔로 진입하며, 커서에 `sqlite>`라는 프롬프트가 표시된다.


### 테이블 생성하기
---
이제 데이터베이스에 데이터를 저장할 테이블을 만들어야 한다. 테이블은 데이터베이스에서 **데이터를 저장하는 기본 단위**로, Excel에서의 시트나 스프레드시트를 떠올리면 쉽게 이해할 수 있다. 테이블은 행과 열로 이루어져 있으며, <u>각 행에는 하나의 데이터 레코드가, 각 열에는 데이터의 속성이 저장</u>된다. 

예를 들어, 학생 정보를 저장하는 테이블의 경우, 행에는 학생 한 명 한 명의 실제 정보가, 열에는 학생 고유 ID, 전화번호, 이름 등이 들어있게 된다. 

SQLite에서 데이터베이스에 테이블을 생성하려면 `CREATE TABLE`이라는 명령어를 사용한다. 

```
CREATE TABLE 테이블_이름 (
	열_이름 데이터_유형 제약조건,
	열_이름 데이터_유형 제약조건,
	...
);
```