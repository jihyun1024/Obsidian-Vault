## 2025 랜섬웨어 제작
 > [!example]- 랜섬웨어 구상도 (최종)![[KakaoTalk_20250114_180032246.png]]

--- 
**2주차 과제 (1/14)**
[CNG 과제 1번 (48 Byte 난수 생성)](file:///c%3A/Users/rkdwl/source/repos/FaS%20Program/FaS%20Program/CNG_RNG.cpp)
[CNG 과제 2번 (AES128/CBC/PKCS7Padding 암호화)](file:///c%3A/Users/rkdwl/source/repos/FaS%20Program/FaS%20Program/CNG_AES_Encrypt.cpp)
[CNG 과제 3번 (AES128/CBC/PKCS7Padding 복호화)](file:///c%3A/Users/rkdwl/source/repos/FaS%20Program/FaS%20Program/CNG_AES_Decrypt.cpp)

---
**3주차 과제 (1/21)**
[CNG 과제 4번 (RSA 4096 암호화)](file:///c%3A/Users/rkdwl/source/repos/FaS%20Program/FaS%20Program/CNG_RSA_Encrypt.cpp)
[CNG 과제 5번 (RSA 4096 복호화)](file:///c%3A/Users/rkdwl/source/repos/FaS%20Program/FaS%20Program/CNG_RSA_Decrypt.cpp)
[파일탐색 과제 (현재 디렉터리 내의 모든 파일명 출력)](file:///c%3A/Users/rkdwl/source/repos/FaS%20Program/FaS%20Program/File_Search.cpp)

---
**담당 코드 (1/30) -> 최종 수정 완료 (2/4)**
- RSA4096 PublicKey로 IV와 KEY를 암호화하여 EncryptedIV와 EncryptedKey에 저장
- 암호화된 데이터 = CIPHER || EncryptedKEY || EncryptedIV 파일 이름은 [원본파일이름].cry, 원본 파일은 삭제
[담당 전체 소스코드](file:///c%3A/Users/rkdwl/source/repos/FaS%20Program/Ransom/jihyun.cpp)

>[!example]- 실행 결과
>실행 이전![[Attached file/image 4.png]]
>실행 이후
>-> 코드가 정상적으로 실행✅![[Attached file/image 5.png]]
>-> sample_text.txt의 확장자가 .cry로 변경됨✅
>-> HxD로 확인한 결과 알 수 없는 16진수 값들로 변경됨✅
>-> CIPHER 뒤에 EncryptedKEYIV가 정상적으로 추가됨✅![[Attached file/image 6.png]]

---
**랜섬웨어 복호화 도구 제작
* 파일 확장자가 .cry로 되어 있는 파일을 전부 찾아 Decrypt 함수에 전달
* Decrypt 함수에서는 파일 경로를 받아 하위 512byte를 떼어 RSA 4096으로 복호화, 그 중 상위 32byte를 AES의 키로 설정
* 복호화된 파일은 확장자를 빼고 저장, 확장자는 시그니처를 보고 정해서 저장
[전체 소스코드](file:///c%3A/Users/rkdwl/source/repos/FaS%20Program/Ransom/Decrypt.cpp)

>[!example]- 실행 결과
>실행 이전: 파일이 암호화되어 있는 상태![[Attached file/image.png]]
>실행 이후
>-> 잘 돌아가는 것을 확인함✅![[Attached file/image 1.png]]
>-> HxD로 열어보니 정상적으로 텍스트가 복호화됨✅![[Attached file/image 2.png]]

--- 
**최종 결과물**
![[Ransomware.zip]]

