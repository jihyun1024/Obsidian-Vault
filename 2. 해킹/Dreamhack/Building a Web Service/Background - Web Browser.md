## 들어가며
---
### 들어가며
---
한글, MS 오피스 등의 현대 워드 프로세서에서는 **볼드체**, *이탤릭체*, <u>밑줄 긋기</u> 등의 기능을 단축키로 쉽게 사용할 수 있지만, 그만큼 컴퓨터 내부에서는 처리하는 연산이 많아진다. 

이번 강의에서는 브라우저의 기능과 역할에 대해 배워볼 것이다. 사용자가 주소를 입력하고 웹 페이지가 보일 때까지 웹 브라우저가 하는 역할을 배울 것이며, 이는 이후 브라우저에 적용된 보호 기법과 Client-Side의 취약점을 학습하는 데 도움을 줄 것이다.

![[Pasted image 20251230225125.png]]


## 웹 브라우저
---
### 웹 브라우저
---
웹은 인터넷이라는 글로벌한 네트워크 위에 구현되어 있으며, 정해진 프로토콜을 기반으로 통신한다. 개발자가 아닌 일반 사용자라면 이런 규칙을 굳이 알 필요 없이 웹을 기반으로 한 **웹 브라우저**를 사용만 하면 되지만, 우리는 거기서 더 나아가서 웹이 어떻게 동작하는지 알아야 한다. 

웹 브라우저는 뛰어난 사용자 경험(User eXperience, UX)을 제공하는 소프트웨어로, 사용자는 브라우저를 사용해 쉽게 정보를 탐색하고, 동영상을 보고, 파일을 내려받는다.

![[Pasted image 20251230225817.png]]

위의 그림은 사용자가 주소창에 `google.com`을 입력했을 때 웹 브라우저가 하는 것을 나타낸다. 

1. 웹 브라우저의 주소창에 입력된 문자열을 해석 (URL 분석)
2. `google.com`에 해당하는 주소 탐색 (DNS 요청, DNS에 대한 설명은 나중에 한다)
3. HTTP를 통해 `google.com`에 요청
4. `google.com`의 HTTP 응답 수신
5. 리소스 다운로드 & 웹 렌더링 (HTML, CSS, Javascript)

최근에는 Tor 브라우저나 Brave 브라우저처럼 보안에 중점을 둔 브라우저들도 나오고 있으며, 브라우저가 보안과 개발에 필요한 다양한 도구들도 제공하고 있다. 

다음 장에서는 각 동작에 대해 자세히 알아보도록 한다.


### URL
---
**URL**은 Uniform Resource Locator의 약자로, <u>웹에 있는 리소스의 위치를 표현하는 문자열</u>이다. 브라우저로 특정 웹 리소스에 접근할 때는 URL을 사용해 이를 서버에 요청한다. 다음은 URL의 예시이다.

URL은 Scheme, Authority(Userinfo, Host, Port), Path, Query, Fragment 등으로 구성되며, 이 중 자주 사용되는 요소는 다음과 같다. 

![[Pasted image 20251230230610.png]]

- Scheme: 웹 서버와 어떤 프로토콜로 통신할 것인지
- Authority
	- Host: `example.com`에 해당하며, 접속할 웹 서버의 주소에 대한 정보
	- Port: `8042`에 해당하며, <u>접속할 웹 서버의 포트</u>에 대한 정보
- Path: 접근할 웹 서버의 리소스 경로로, `/`로 구분
- Query: 웹 서버에 전달하는 파라미터로, Query = 질문을 뜻하는 `?` 뒤에 위치
- Fragment: 메인 리소스에 존재하는 서브 리소스에 접근할 때 이를 식별하기 위한 정보로, `#` 뒤에 위치

URL에 대한 더 자세한 정보는 [RFC 3986](https://www.rfc-editor.org/rfc/rfc3986.html)에서 확인할 수 있다.


### Domain Name
---
URL 구성 요소 중 Host는 웹 브라우저가 접속할 웹 서버에 대한 정보를 담고 있다. Host는 **Domain Name**, **IP Address**의 값을 가질 수 있다. IP Address는 네트워크 상에서 통신이 이루어질 때 장치를 식별하기 위해 사용하는 주소이지만, 외우기 어려워 대신 도메인의 특성을 담은 Domain Name을 따로 정의해 IP Address 대신 사용한다. 

Domain Name을 Host 값으로 사용할 때, 브라우저는 **Domain Name Server(DNS)** 에 Domain Name을 물어보고, DNS가 응답한 IP Address를 사용해 통신한다. 

이는 교회 프린터에서도 쉽게 확인할 수 있는데, 프린터에서 설정을 열어 IP Address를 확인하고, 이를 웹 브라우저에 대입하면 정상적으로 웹에서 프린터를 동작시킬 수 있는 것과 같은 원리이다.

Domain Name에 대한 정보는 MacOS/Linux/Windows에서 `nslookup`이라는 명령어를 사용해 다음처럼 확인할 수 있다. 

```
C:\Users\rkdwl>nslookup google.com
서버:    kns.kornet.net
Address:  168.126.63.1

권한 없는 응답:
이름:    google.com
Addresses:  2404:6800:400a:806::200e
          142.250.207.110
```

![[Pasted image 20251230231820.png]]


### 웹 렌더링
---
**웹 렌더링(Web Rendering)** 은 URL의 Path 부분에서 질의한 리소스를 서버에게서 받아 사용자에게 시각화하는 것이다. 서버의 응답을 받은 웹 브라우저는 리소스의 타입을 확인하고, 적절한 방식으로 사용자에게 전달한다. 예를 들어, 서버로부터 뼈&살에 해당하는 HTML과 옷에 해당하는 CSS를 받으면, 브라우저는 HTML을 파싱하고 CSS를 적용해 사용자에게 보여준다.

웹 렌더링은 웹 렌더링 엔진이라는 별도의 도구에 의해 이루어지며, 브라우저별로 Safari는 **웹킷(Webkit)**, Chrome은 **블링크(Blink)**, Firefox는 **개코(Gecko)** 엔진을 사용한다. 각각의 엔진에 따라서 렌더링 과정, 순서, 속도의 차이는 존재하지만, HTML을 파싱하고 시각화해 사용자에게 보여주는 기본 원리는 동일하다. 

![[Pasted image 20251230232445.png]]
